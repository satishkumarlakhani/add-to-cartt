<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>productpage</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="head_strip">
        <div class="header">
            <div class="logo">
                <i class="fa-brands fa-pied-piper"></i>
            </div>
            <div class="navbar">
                <ul>
                    <li><i class="fa fa-fw fa-home"></i> </li>
                    <li><i class="fa fa-fw fa-envelope"></i> </li>
                    <li><i class="fa fa-fw fa-user"></i> </li>
                    <li><i class="fa fa-fw fa-search"></i> </li>
                </ul>
            </div>
            <div class="cartbtn" id="iconbtn">
                <i class='fa fa-shopping-cart'>
                    <span class='counter'>
                        <p id="count">....</p>
                    </span>
                </i>
            </div>
        </div>
    </div>
    <div class="cart" id="cart"> </div>
    <div class="product_gallary" onclick="handleProductClick(event)">
        <div class="clon1">
            <div class="product-card clone" id="product">
                <img src="./imgs/laura-chouette-CVK41La1duw-unsplash.jpg">
                <div class="product-details ">
                    <h3 class="product-title">iPhone</h3>
                    <p class="product-price">$899.99</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="clon1">
            <div class="product-card clone" id="product">
                <img src="./imgs/maxim-hopman-Hin-rzhOdWs-unsplash.jpg">
                <div class="product-details ">
                    <h3 class="product-title">MacBook-Air</h3>
                    <p class="product-price">$1399.99</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="clon1">
            <div class="product-card clone" id="product">
                <img src="./imgs/pencil.jpg">
                <div class="product-details ">
                    <h3 class="product-title">pancil</h3>
                    <p class="product-price">$99.99</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="clon1">
            <div class="product-card clone" id="product">
                <img src="./imgs/ipad.jpg">
                <div class="product-details ">
                    <h3 class="product-title">iPad</h3>
                    <p class="product-price">$1099.99</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="clon1">
            <div class="product-card clone" id="product">
                <img id="proImg" src="./imgs/mouse.jpg">
                <div class="product-details ">
                    <h3 class="product-title">Mouse</h3>
                    <p class="product-price">$109.99</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="clon1">
            <div class="product-card clone" id="product">
                <img id="proImg" src="./imgs/simon-daoudi-2wFoa040m8g-unsplash.jpg">
                <div class="product-details ">
                    <h3 class="product-title">iWatch</h3>
                    <p class="product-price">$136.99</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        function handleProductClick(event, product) {
            const productCard = event.target.closest('.product-card');
            if (productCard) {
                fun();
                cloneProductCard(productCard);
                cart(productCard);
            }
        }
        function cloneProductCard(productCard) {
            var clonedProductCard = productCard.cloneNode(true);
            productViewPortOffset = productCard.getBoundingClientRect();
            clonedProductCard.style.top = (productViewPortOffset.top - 20) + "px";
            clonedProductCard.style.left = (productViewPortOffset.left - 20) + "px";
            let cartPosition_left = document.getElementById("iconbtn").offsetLeft
            let cartPosition_top = document.getElementById("iconbtn").offsetTop
            document.body.appendChild(clonedProductCard);
            clonedProductCard.classList.add("anim");
            setTimeout(() => {
                clonedProductCard.style.left = (cartPosition_left - 200) + "px"
                clonedProductCard.style.top = (cartPosition_top - 200) + "px"
            }, 50);
            setTimeout(function () {
                clonedProductCard.remove();
            }, 800);
        }
        let counterValue = 0;
        function fun() {
            counterValue++;
            document.getElementById('count').textContent = counterValue;
        }
        function cart(product) {
            var cart = document.getElementById('cart');
            var cartProduct = product.cloneNode(true);
            cartProduct.classList.add("cart_Product");
            setTimeout(function () {
                cart.appendChild(cartProduct);
            }, 1100);
            cart.style.display = 'block';
        }
    </script>

</body>




</html>